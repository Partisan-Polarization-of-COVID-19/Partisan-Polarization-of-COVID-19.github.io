<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tweet Table</title>
    <link
      href="https://www.jqueryscript.net/css/jquerysctipttop.css"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Bootstrap core CSS -->
    <link
      rel="stylesheet"
      href="https://netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"
    />
    <link href="css/dataTables.bootstrap.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="container spinner-border">
      <div id="table-container"></div>
    </div>
    <!-- /.container -->

    <footer class="footer"></footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="js/jquery.csv.min.js"></script>
    <script src="js/jquery.dataTables.min.js"></script>
    <script src="js/dataTables.bootstrap.js"></script>
    <script src="js/csv_to_html_table.js"></script>

    <script>
      var date = "2020-10-15";
      var topic = "Lockdown";

      $.urlParam = function (name) {
        var results = new RegExp("[\?&]" + name + "=([^&#]*)").exec(
          window.location.search
        );

        return results !== null ? results[1] || 0 : false;
      };

      date = $.urlParam("date");
      topic = $.urlParam("topic");

      console.log($.urlParam("date"));
      console.log($.urlParam("topic"));

      init_table({
        csv_path: "./data/Public/" + topic + "/" + date + ".csv",
        element: "table-container",
        allow_download: false,
        csv_options: { separator: ",", delimiter: '"' },
        datatables_options: { paging: true, lengthMenu: [5] },
      });
    </script>
  </body>
</html>
